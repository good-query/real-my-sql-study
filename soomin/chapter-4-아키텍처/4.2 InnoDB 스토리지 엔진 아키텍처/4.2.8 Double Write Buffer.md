<h1 align='center'> Double Wirte Buffer </h1>

## (1) 존재 이유

하드웨어 오작동 이나 시스템의 비정상 종료로 더티 페이지의 변경 내역이 일부만 기록되거나 페이지 내용이 복구할 수 없게 깨질 떄가 있다. 이러한 현상을 **`파셜 페이지`** 또는 `톤 페이지`라고 한다. 이러한 현상을 사전에 예방하고 데이터를 안전하게 디스크에 플러시 하기 위한 보호 매커니즘이 바로 **`Double Write Buffer`** 이다.

## (2) 아니 리두 로그가 있는데 왜 이런 일이? 

리두로그는 **더티 페이지가 플러시 되기 전 손실 되었을 때 백업용이다.** 만약 디스크에 쓰는 도중에 에러가 났다면, 리두 로그도 손을 쓸 수가 없다. 따라서 해당 Double Wirte Buffer가 필요하다.

## (3) Double Write Buffer의 원리

1. 더티 페이지의 변경 내역을 미리 Double Write Buffer에 쓴다.
2. Double Write Buffer에서 실제 테이블이 저장된 공간으로 데이터를 복사해서 플러시 한다.
   - 만약 이 때 에러가 나면 Double Writer Buffer에 해당 내역이 저장되어 있음으로 다시 그 내용을 쓰면 됨. 

## (4) 의외로 SSD에게 부담? 

순차 I/O 비용이 랜덤 I/O에 비해 낮은 HDD 에서는 별로 부담이 되지 않지만, SSD는 순차나 랜덤이나 비용이 비슷해서, SSD에게 상당히 부담스러움? 왜? 이유를 찾아오겠음.