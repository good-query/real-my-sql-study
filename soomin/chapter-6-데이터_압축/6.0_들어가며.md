<h1 align = 'center'>6.0 들어가며</h1>

**디스크에 저장된 데이터 파일의 크기가 쿼리의 처리 성능과도 직결된다.**

디스크의 데이터 크기가 크면 클수록 

1. 버퍼 풀은 항상 더 많은 데이터를 디스크로부터 끌어와 적재 해야 한다.

2. 더티 페이지가 더 자주 디스크로 기록 되어야 한다. 

   - 디스크 크기가 커질수록 버퍼 풀에 올려야 하는 페이지 수도 많아진다. (디스크 접근 줄이기 위하여)
   - 근데 버퍼 풀은 한정되어 있기에 무한정 올릴 수는 없고, 새 페이지를 올릴려면 기존 페이지를 내보내야 한다.
   - 내보낼 때 더티 페이지는 디스크 플러시 된다. 

   즉 데이터 파일 크기가 크면, 버퍼 풀의 교체 빈도도 높아지므로 더티 페이지의 flush도 자주 발생한다.

3. 백업 및 복구 작업 시간 소요가 증가 한다.

4. 데이터 저장 공간이 많이 필요 하니까 비용이 더 커진다.

이러한 부작용을 막기 위해 MySQL에서는 데이터 압축 기능을 제공한다. 
하지만 압축 자체도 성능 저하의 원인이다. (압축과 해제 시 CPU 부하가 크게 일어남)
데이터 압축은 크게 **`페이지 압축`**과 **`테이블 압축`**으로 나누어짐.



# 추가 학습  - 압축 자체의 비용이 큼에도 사용하는 이유

## (1) 압축 비용보다 디스크 I/O 비용이 훨씬 높다.

- DB 작업 중에 디스크 read/ write 는 가장 비싸면서 느린 작업이다.
- 압축을 하면 CPU 부하가 일긴 하지만, 같은 내용을 더 적은 공간에 작성 가능 (더 적은 I/O로 더 많은 데이터 처리 가능)

## (2) 버퍼 풀 효율 향상

- 버퍼 풀은 정해진 크기만큼만 데이터를 올려둘 수 있음.
- 압축을 하면, **같은 크기의 메모리에 더 많은 데이터를 적재**할 수 있음.
- 그 결과, **페이지 교체 빈도 감소** → **더티 페이지 flush 횟수 감소**

