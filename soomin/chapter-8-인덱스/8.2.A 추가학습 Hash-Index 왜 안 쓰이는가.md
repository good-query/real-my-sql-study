---
type: deep-dive
source:
  - real-my-sql
chapter: "8.2"
tags:
  - cs
created: 2025-05-10
relevance:
  - query-tuning
---

### Relevace Framing ğŸ§©

**`í° ê·¸ë¦¼` : [[good-query-tuning.canvas|good-query-tuning]]**
**`ë¶€ëª¨ ê¸€` : [[INDEX ê°œê´„]]**

# 0. í•™ìŠµ ëª©ì 

- Hash Indexì˜ ì‘ë™ì›ë¦¬ë¥¼ ìˆ˜ë°• ê²‰í•¥ê¸°ì‹ìœ¼ë¡œ ì•ˆë‹¤.
- Hash Indexì˜ ì¥ì ê³¼ ë‹¨ì ì„ ì•ˆë‹¤.

# 1. ë™ì‘ ì›ë¦¬

## (1) ì „ê°œë„

![image-126.png](https://raw.githubusercontent.com/dalcheonroadhead/img-cloud/main/2025-05/image-126.png)

> ì¶œì²˜: https://codingsight.com/hash-index-understanding-hash-indexes/

### êµ¬ì„±ìš”ì†Œ

- `Hash Function`:
  ì‹ë³„ ì»¬ëŸ¼ê°’ì„ í•´ì‹œê°’ìœ¼ë¡œ ë°˜í™˜í•˜ì—¬ í•´ë‹¹ ì¸ë±ìŠ¤ ë ˆì½”ë“œê°€ ì €ì¥ë  ë²„í‚· ìœ„ì¹˜ë¥¼ íŠ¹ì •í•œë‹¤.

- `Bucket`: 
  êµ¬í˜„ì€ ë°°ì—´ë¡œ ë˜ì–´ ìˆë‹¤. 

```sql
CREATE INDEX idx_name ON members USING hash (name);
```

## (2) ë°ì´í„° ì €ì¥ ì‹œ

1. Insertê°€ ë“¤ì–´ì˜¨ë‹¤.

```sql
Insert into members (name, ...) VALUES ( "John doe", ...)
```

2. 'John doe'ë€ ì´ë¦„ì˜ ì¼ë¶€ (ex - 'john')ì„ Hash Functionì— ë„£ê³  Hash ê°’ì„ ë°˜í™˜ ë°›ëŠ”ë‹¤. 
3. í•´ë‹¹ Hash ê°’ì´ ëŒ€í‘œí•˜ëŠ” Bucketì— Entry ìŒìœ¼ë¡œ ì €ì¥ëœë‹¤. (key = ì‹ë³„ ì»¬ëŸ¼ ê°’ (ex - john doe), value = ë³¸ ë°ì´í„° ì£¼ì†Œê°’)

## (3) ë°ì´í„° ì¡°íšŒ ì‹œ 

1. ì¡°íšŒë¬¸ì´ ë‹¨ê±´ìœ¼ë¡œ ì™”ë‹¤ ì¹˜ì. (ë²”ìœ„ ê²€ìƒ‰ì´ë©´ ì˜µí‹°ë§ˆì´ì € ë‹¨ê³„ì—ì„œ Hash Indexë¥¼ ì ˆëŒ€ ì„ íƒí•˜ì§€ ì•ŠëŠ”ë‹¤.) 

```sql
SELECT * FROM members where name = 'John doe'
```

2. í•´ì‹œ í•¨ìˆ˜ì— where ì ˆì— ì íŒ ì‹ë³„ê°’ì¸ "John doe"ì˜ 'john'ì„ ë„£ëŠ”ë‹¤. 
3. ì´í›„ í•´ë‹¹ ê°’ì´ ì €ì¥ëœ bucketì„ ì°¾ëŠ”ë‹¤.
4. bucket ë‚´ë¶€ entry ì† valueì— ì €ì¥ëœ ì›ë³¸ ë°ì´í„° ì£¼ì†Œë¥¼ í†µí•´ ì›ë³¸ ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤.

## (4) Hash ì¶©ëŒ ëŒ€ì‘ ì „ëµ

ì‹¤ ì„œë¹„ìŠ¤ ìƒ ë°ì´í„° ì–‘ì´ 100ë§Œ 1000ë§Œê±´ì´ ë„˜ì„ ìˆ˜ ìˆë‹¤ë³´ë‹ˆ, **Hash ì¶©ëŒ**ì€ í•„ì—°ì ì´ë‹¤. 
DBë§ˆë‹¤ì˜ Hash ì¶©ëŒ ì‹œ ëŒ€ì‘ ì „ëµì˜ í° ë§¥ë½ì—ì„œ ì¼ë§¥ìƒí†µí•˜ë‚˜ ì„¸ë¶€ êµ¬í˜„ì€ ê°ê¸° ë‹¤ë¥´ë‹¤.

### A. (êµ¬ ë²„ì „) LinkedList í™œìš©

í•´ì‹œ ì¶©ëŒì´ ì•ˆ ë‚¬ì„ ë•Œ, Bucketì˜ ì›ì†Œì— ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ë¥¼ ì§ì ‘ ì €ì¥í–ˆì§€ë§Œ,  ì´ì œ í•´ë‹¹ Bucketì˜ ì›ì†Œê°€ **Linked Listì˜ ë¨¸ë¦¬** ê°€ ëœë‹¤.
![image.png](https://raw.githubusercontent.com/dalcheonroadhead/img-cloud/main/2025-05/20250510235100.png)

![image.png](https://raw.githubusercontent.com/dalcheonroadhead/img-cloud/main/2025-05/20250510235140.png)

### B. Red-Black ì´ì§„ íŠ¸ë¦¬ í™œìš©

java 8 ì´ë‚˜, íŠ¹ì • DB ë“±ì€ Hash ì¶©ëŒì´ ì¼ì • ì´ìƒ ëˆ„ì ë˜ë©´ Linked Listë¥¼ Red-Black ì´ì§„íŠ¸ë¦¬ë¡œ ë°”ê¾¼ë‹¤. 
ì´ëŠ” ì„ í˜• ê²€ìƒ‰ìœ¼ë¡œ ì¸í•´ Hash ìë£Œ êµ¬ì¡°ì˜ ì¥ì ì´ í¬ë¯¸í•´ì§€ëŠ” ê¸°ì¡´ì˜ LinkedList í™œìš© í•´ì‹œ ì¶©ëŒ ëŒ€ì‘ ì „ëµì—ì„œ í•œ ë‹¨ê³„ ê³ ë„í™” ëœ ê²ƒì´ë‹¤.

# 2. Hash Index ì²˜ìš° 

Hash IndexëŠ” ë‹¨ê±´ ì¡°íšŒ ì„±ëŠ¥ì´ O(1) ì´ë¼ëŠ” ë¹ ë¥¸ ì„±ëŠ¥ì„ ìë‘í•˜ì§€ë§Œ, MySQLì„ ë¹„ë¡¯í•œ RDBMSì—ì„œëŠ” ê±°ì˜ ì¢…ì ì„ ê°ì·„ë‹¤. ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

1. **ë²”ìœ„ ê²€ìƒ‰ì´ ì•„ì˜ˆ ì•ˆë¨**
   B-treeëŠ” ì¸ë±ìŠ¤ í–‰ë“¤ì´ ì „ë¶€ **ì •ë ¬ëœ ìƒíƒœ**ì´ê¸° ë–„ë¬¸ì— ì¿¼ë¦¬ë¬¸ì— ë”°ë¼ ë²”ìœ„ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, Hash-IndexëŠ” êµ¬ì¡°ì˜ í•œê³„ ë•Œë¬¸ì— ë²”ìœ„ ê²€ìƒ‰ì´ ì•ˆëœë‹¤. ì´ëŠ” êµ¬ì¡°ì  í•œê³„ë¼ ê·¹ë³µì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤.

2. í•´ì‰¬ ì¶©ëŒì´ ë¹ˆë²ˆíˆ ì¼ì–´ë‚˜ë©´ ìœ ì¼í•œ ì¥ì ì¸ ë‹¨ê²€ ì¡°íšŒ ì„±ëŠ¥ë„ ë–¨ì–´ì§€ê²Œ ëœë‹¤.
   ì„ í˜• ì¡°íšŒ í˜¹ì€ ì´ì§„ íŠ¸ë¦¬ ì¡°íšŒê°€ ì¼ì–´ë‚˜ëŠ”ë°, ì´ëŠ” ê°ê° O(N), O(logN)ì´ë‹¤. B-treeì˜ ì‹œê°„ë³µì¡ë„ê°€ O(logN)ì„ì„ ê°ì•ˆí•˜ë©´ ê·¸ë³´ë‹¤ ë‚˜ì€ ì ì´ ì—†ì–´ì§„ë‹¤.

![image.png](https://raw.githubusercontent.com/dalcheonroadhead/img-cloud/main/2025-05/20250510235904.png)

> ì¶œì²˜: [External memory K-bisimulation reduction of big graphs](https://www.researchgate.net/publication/231537494_External_memory_K-bisimulation_reduction_of_big_graphs?_tp=eyJjb250ZXh0Ijp7ImZpcnN0UGFnZSI6Il9kaXJlY3QiLCJwYWdlIjoiX2RpcmVjdCJ9fQ)

ìœ„ëŠ” ë‹¨ê±´ ì¡°íšŒì—ì„œ I/O ë¶€í•˜ë¥¼ ë–„ë ¸ì„ ë•Œ, B-treeì™€ Hash-Indexì˜ ì„±ëŠ¥ ì°¨ì´ë¥¼ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ì´ë‹¤. ë³´ë‹¤ì‹œí”¼, I/O ë¶€í•˜ê°€ ë†’ì•„ì ¸ë„, HashIndexì™€ B-treeì˜ ì„±ëŠ¥ ì°¨ì´ê°€ ê±°ì˜ ë‚˜ì§€ ì•ŠëŠ”ë‹¤. 

# í•µì‹¬ ìš”ì•½

Hash ìë£Œ êµ¬ì¡°ëŠ” ì•„ì§ ì„œë²„ ë ˆë²¨ì—ì„œëŠ” ì“°ì´ë‚˜, ì´ë¥¼ í™œìš©í•œ Hash-IndexëŠ” ì¥ì ì´ ì‚¬ë¼ì§„ ê¸°ìˆ ì´ë¼ ì‹¤ë¬´ì—ì„œ ê±°ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤.

---

# Metadata

###  A. ì°¸ê³  ë¬¸ì„œ

```cardlink
url: https://medium.com/@rohmatmret/understanding-hash-indexing-in-databases-11c02b7d4ed1
title: "Understanding Hash Indexing in Databases"
description: "Hash indexing is a highly efficient database indexing technique used for quickly locating rows in a table based on exact matches. Unlikeâ€¦"
host: medium.com
favicon: https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19
```

```cardlink
url: https://dev.mysql.com/doc/refman/8.4/en/index-btree-hash.html
title: "MySQL :: MySQL 8.4 Reference Manual :: 10.3.9 Comparison of B-Tree and Hash Indexes"
host: dev.mysql.com
```

```cardlink
url: https://codingsight.com/hash-index-understanding-hash-indexes/
title: "Hash Index: Everything you Need to Know about Hashing"
description: "Learn what hash index exactly is a and how using it speeds up the process of searching for information in large databases."
host: codingsight.com
favicon: https://codingsight.com/wp-content/uploads/2021/10/cropped-SoÑial_-Fb_180Ñ…180-1-32x32.png
image: https://codingsight.com/wp-content/uploads/2021/06/Understanding_Hash_Index_878Ñ…700-copy.png
```

[External memory K-bisimulation reduction of big graphs](https://www.researchgate.net/publication/231537494_External_memory_K-bisimulation_reduction_of_big_graphs?_tp=eyJjb250ZXh0Ijp7ImZpcnN0UGFnZSI6Il9kaXJlY3QiLCJwYWdlIjoiX2RpcmVjdCJ9fQ)

### B. ëª¨ë¥´ëŠ” ë‹¨ì–´ ì •ë¦¬ to Layman's term ğ“‚ƒğŸ–Š

### C. ìì‹ ê¸€

```dataview
TABLE without id file.inlinks AS "BackLink"
WHERE file.path = this.file.path
```
