<h1 align='center'> 7.1.3 암호화와 복제 </h1>

**`KEY WORD`: 소스 / 레플리카 서버는 키가 따로 따로 존재해야함. 백업 시에는 서버와 키파일을 같이 백업 할지, 따로 할지 잘 감안해라**

# 1. 레플리카 서버 복제 시 키 관리

마스터 키든 테이블 스페이스 키든 소스서버와 레플리카 서버가 이를 공유해서는 안된다. 따라서 레플리카 서버 생성 시 테이블을 전부 복호화 해서 건네주고, 레플리카서버 만의 고유 마스터 키와 테이블 스페이스 키를 발급해 암호화 및 복호화 작업을 진행해야 한다.

키링 파일 이용 시, 아예 서로 노드가 다르므로 이게 보장됨. 다만 외부 키 관리 시스템 쓰면 이거 신경써서 따로 발급 해줘야 한다.

# 2. 서버 백업 시 키 관리

보안상 키파일 백업 따로, 서버 백업 따로 하는 게 맞다. 하지만 이렇게 되면 서버 백업 시점에 맞는 키 백업 파일을 잘 구분해서 들고 있어야 한다. 만약 키 백업 파일을 잃어버린다면 해당 시점 백업은 못 꺼내보기 때문이다.
따라서 보안을 좀 희생하면서 서버와 키 파일 백업을 하나로 묶어 할지 아니면 따로 하고 백업 버전 관리에 신경 쓸지는 개발자의 판단에 맞춰해야 한다.
