<h1 align='center'> 7.4 언두로그 및 리두로그 암호화</h1>

**`결론`: 마스터 키는 테이블 암호화랑 공유하지만 테이블 스페이스 키는 언두로그, 리두 로그 전용을 따로 발급받아 사용**

이전 장들에서는 테이블에 대한 암호화에 대해 배웠다. 테이블에 대한 암호화를 하더라도, 테이블 이외의 방법으로 메모리에서 디스크로 쓰이는 것들 (ex- 언두 로그, 리두 로그, 바이너리 로그)에 대한 암호화 처리를 하지않으면 그것들은 여전히 평문으로 디스크에 저장된다.
  여기서는 테이블 이외의 데이터 저장 중 언두로그 및 리두 로그에 대한 암호화에 대해서 알아보겠다.

# 1. 방법

- 리두로그와 언두로그를 위한 테이블 스페이스 키를 따로 발급받아서 그것으로 리두 로그와 언두로그를 암호화, 복호화
- 해당 테이블 스페이스 키는 마스터 키로 암호화 된다. 
  (즉 원리는 테이블 암호화와 동일)

# 2. 대상

### 서비스 도중에 암호화 설정을 키면, 언두 로그나 리두 로그의 이전 내용까지 암호화 해야 하나? 

**NO!**

- 암호화가 설정이 되면 그때부터 생성되는 리두 로그나 언두로그를 암호화해서 저장
- 그 전 데이터는 평문 그대로 저장된다.
- 반대도 마찬가지 (즉 서비스 도중에 암호화 설정을 끄면, 그 순간부터 평문으로 저장)
  따라서, 암호화 설정을 해제했더라도 며칠 혹은 몇달 간은 이전 리두로그나 언두로그를 정상적으로 사용하기 위해 테이블 스페이스 키를 저장하고 있어야 한다.

이 점에서 암호화 설정을 하면 설정 대상이 된 테이블 전체를 암호화 하던 테이블 데이터 암호화와 다르다