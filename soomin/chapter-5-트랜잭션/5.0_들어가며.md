<h1 align = 'center'> 5.0 들어가며...</h1>

### `KEYWORD`: 트랜잭션, 잠금, 격리수준

- `트랜잭션`: 데이터의 일관성(정합성)을 보장하기 위해 만들어진 개념
- `잠금`: 데이터의 격리성을 보장하기 위해 만들어진 개념 (동시성을 제어하여 이상현상 방지)
- `격리수준`: 하나의 트랜잭션 혹은 여러 트랜잭션 간의 작업 내용을 어떻게 공유하고 차단할 것인지 결정하는 개념 
  트랜잭션별로 위에서 설명한 잠금 중 어떤 것을 쓸 것인지 설정할 수 있게 한다.



# 2️⃣ 잠금 (LOCK)

## (1) 의미

위 트랜잭션의 준수 사항 중 I(격리성)을 보장하기 위한 원리 체계로서,
트랜잭션 간의 간섭을 방지하기 위해 특정 트랜잭션에게 **데이터에 대한 점유권을 부여**해서 **다른 트랜잭션의 접근을 제한**하는 행위를 뜻한다. 

## (2) 종류

### a. DML 종류에 따른 구분




### b. 잠금 범위에 따른 구분


| 종류                               | 설명                                                         | 예시                                |
| ---------------------------------- | ------------------------------------------------------------ | ----------------------------------- |
| 공유 잠금(Shared Lock, S-Lock)     | 읽기용 잠금, 읽기 트랜잭션들은 점유자가 아니더라도 데이터 접근 및 READ는 가능, 쓰기 트랜잭션의 경우 접근 불가 | `SELECT FOR SHARE`                  |
| 배타 잠금 (Exclusive Lock, E-Lock) | 쓰기용 잠금, 현 점유 트랜잭션의 작업이 끝날 때까지 다른 어떠한 트랜잭션도 잠금이 걸린 데이터에 접근하지 못함( 데이터 READ, WIRTE 전부 불가) | `UPDATE, DELETE, SELECT FOR UPDATE` |

b. 잠금 범위에 따른 구분


| 잠금 범위         | 설명                | 예시                               |
| ----------------- | ------------------- | ---------------------------------- |
| 레코드 잠금       | 특정 행만 잠금      | `where id = 1`만 잠금              |
| 테이블 잠금       | 테이블 전체를 잠금  | DDL 설정 혹은 LOCK TABLE           |
| 페이지/ 범위 잠금 | 특정 범위의 행 잠금 | `Between`, `Like` 등에서 발생 가능 |

InnoDB의 경우 **가능한 한 좁은 범위**로 잠금을 잡는다.

