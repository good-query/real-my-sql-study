# 8.9 유니크 인덱스
- 인덱스라기보다 제약 조건에 가까움
- 같은 값 2개 이상 저장될 수 없음을 의미
    - null값은 특정 값이 아니기 때문에 2개 이상 저장 가능
- MySQL에서는 인덱스 없이 유니크 제약만 설정할 방법이 없음
- MyISAM, MEMOERY의 경우 프라이머리 키 -> null 허용 안되는 유니크 인덱스
- InnoDB 프라이머리 키 -> 클러스터링 키이므로 유니크 인덱스와 근본적으로 다름

## 8.9.1 유니크 인덱스와 일반 세컨더리 인덱스의 비교
- 인덱스의 구조상 차이점 없음

### 8.9.1.1 유니크 인덱스와 일반 세컨더리 인덱스의 읽기
- **레코드 건수가 같다면** 성능상 차이가 미미함
    - 디스크 읽기 작업은 같고, 일반 세컨더리 인덱스의 경우 비교 작업이 추가될 뿐이기 때문
    - 비교작업은 cpu에서 하기 때문에 성능 차이 미미

### 8.9.1.2 유니크 인덱스와 일반 세컨더리 인덱스의 쓰기
- 유니크 인덱스에서 쓰기 작업시, 중복된 값 여부 체크 과정 필요
- 유니크하지 않은 세컨더리 인덱스의 쓰기보다 느림
- MySQL에서는 유니크 인덱스 중복값 체크 과정에서 읽기 잠금 사용, 쓰기 작업에서는 쓰기 잠금 사용
    - 이 과정에서 데드락 빈번히 발생
- InnoDB에서 인덱스 키의 저장을 버퍼링하기 위해 체인지 버퍼 사용됨
    - 인덱스의 저장이나 변경 작업 빨리 처리됨
    - But, 유니크 인덱스는 중복 체크가 필수이기 때문에 작업 자체를 버퍼링 X

## 8.9.2 유니크 인덱스 사용 시 주의 사항
- 불필요한 유니크 인덱스 생성 X
- 한 테이블의 같은 칼럼에 유니크 인덱스와 일반 인덱스 중복 생성한 경우
    - 그럴 필요 없다!!
    - 일반 인덱스는 지우자.
- 같은 칼럼에 프라이머리 키와 유니크 인덱스 동일 생성한 경우
    - 그럴 필요 없다!!
    - 유니크 인덱스 지우자.
- 유일성 보장필요한 칼럼에 유니크 인덱스 생성하자
    - 필요없는 경우 세컨더리 인덱스 생성을 고려하기
    