## 7.4 언두 로그 및 리두 로그 암호화
테이블 암호화를 적용해도 리두 로그, 언두 로그, 바이너리 로그에는 평문으로 저장된다.
<br>

MySQL 8.0.16부터 `innodb_undo_log_encrypt` 와 `innodb_redo_log_encrypt` 시스템 변수를 이용해 <br>
InnoDB 스토리지 엔진의 리두 로그와 언두 로그를 암호화된 상태로 저장할 수 있게 개선되었다.
<br>

MySQL 서버는 리두 로그나 언두 로그를 평문으로 저장하다가 암호화가 활성화되면 그때부터 암호화해서 저장한다. <br>
반대로 암호화해서 저장하다가 암호화가 비활성화되면 그때부터 평문으로 저장한다. <br>
따라서 리두 로그나 언두 로그는 암호화를 활성화했다가 비활성화했다고 해서 암호화된 키가 즉시 불필요해지는 것이 아니다.
<br>

리두 로그와 언두 로그 데이터 모두 각각의 테이블스페이스 키로 암호화되고, 테이블스페이스 키는 다시 마스터 키로 암호화된다. <br>
따라서 마스터 키 로테이션 시 테이블 암호화와 동일하게 새로운 마스터 키에 의해 다시 암호화된다. <br>
테이블스페이스 키는 리두 로그와 언두 로그 파일을 위한 각각의 프라이빗 키를 의미한다. (테이블의 테이블스페이스 키와 다름) <br>
